<div class="builds-list">
  <button class="btn btn-secondary mb-3" (click)="goBack()">&larr; Powrót</button>
  <h2>Buildy dla klasy: {{ selectedClassName() }}</h2>
  
  @if (loading()) {
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Ładowanie buildów...</p>
    </div>
  } @else if (error()) {
    <div class="error-message">
      <p>Błąd: {{ error() }}</p>
      <button class="btn btn-primary" (click)="retryLoad()">Spróbuj ponownie</button>
    </div>
  } @else if (builds().length === 0) {
    <p>Brak buildów dla tej klasy.</p>
  } @else {
    <div class="builds-grid">
      @for (build of builds(); track build.id) {
        <div class="build-card" (click)="goToBuild(build.id)">
          <div class="build-image">
            <img [src]="getBuildImage(build)" [alt]="build.name" loading="lazy">
          </div>
          <div class="build-info">
            <h3>{{ build.name }}</h3>
            <p class="build-class">{{ build.class }}</p>
          </div>
        </div>
      }
    </div>
  }
</div>
